!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);const o=e=>{const t=document.createElement("div");return t.innerHTML=e.trim(),t.children[0]};class s{constructor(){if(new.target===s)throw new Error("Can't instantiate AbstractView, only concrete one")}get template(){throw new Error("Template is required")}get element(){return this._element||(this._element=this.render()),this._element}render(){return o(this.template)}}n(1);class r extends s{constructor(){super()}get template(){return'\n      <section class="app"></section>\n    '}}class i{constructor(){this._name=""}set name(e){this._name=e}get name(){return this._name}}n(0),n(2);class d extends s{get template(){return'\n      <div class="todo-add">\n        <form class="todo-add__form" action="#">\n          <div class="todo-add__wrapper">\n            <label class="todo-add__label" for="todo-add">Type your task here</label>\n            <input class="todo-add__input" type="text" id="todo-add" placeholder="Buy food">\n          </div>\n          <button class="button todo-add__button " type="submit">Add Todo</button>\n        </form>\n      </div>\n    '}}class l{constructor(){this.model=new i,this.template=new d(this.model),this.bind()}render(){return this.template.element}isInputValid(){return!(""===this.model.name||null==this.model.name)}bind(){const e=this.template.element.querySelector(".todo-add__input"),t=this.template.element.querySelector(".todo-add__button");e.addEventListener("input",e=>{this.model.name=e.target.value}),t.addEventListener("click",t=>{if(t.preventDefault(),this.isInputValid()){const t=Date.now(),n=this.model.name;this.model.name="",e.value="",this.onAddBtnClick(t,n)}})}onAddBtnClick(){}}class a{constructor(){this.todoItems=[]}addTodo(e){this.todoItems.push(e)}removeTodo(e){this.todoItems.splice(this.todoItems.indexOf(e),1)}}n(3);class c extends s{constructor(){super()}get template(){return'\n      <div class="todo-list">\n        <ul class="todo-list__list"></ul>\n      </div>\n    '}addTodo(e){this.element.querySelector(".todo-list__list").appendChild(e.render())}removeTodo(e){this.element.querySelector(".todo-list__list").removeChild(e.template.element)}}class m{constructor(){this.model=new a,this.template=new c(this.model)}render(){return this.template.element}addTodo(e){this.model.addTodo(e),this.template.addTodo(e)}removeTodo(e){this.model.removeTodo(e),this.template.removeTodo(e)}}class u{constructor(e,t){this.id=e,this._name=t}set name(e){this._name=e}get name(){return this._name}}n(4);class p extends s{constructor(e){super(),this.model=e}get template(){return`\n      <li class="todo-item" id="${this.model.id}">\n        <span class="todo-item__name">${this.model.name}</span>\n        <button class="todo-item__button button button--close">X</button>\n      </li>\n    `}}class h{constructor(e,t){this.model=new u(e,t),this.template=new p(this.model)}render(){return this.bind(),this.template.element}bind(){this.template.element.querySelector(".todo-item__button").addEventListener("click",()=>{this.onDeleteBtnClick()})}onDeleteBtnClick(){}}class f{constructor(){this.listComponent=new m,this.addComponent=new l,this.addComponent.onAddBtnClick=((e,t)=>{const n=new h(e,t);n.onDeleteBtnClick=(()=>{this.listComponent.removeTodo(n)}),this.listComponent.addTodo(n),this.render()})}init(){this.render()}render(){const e=document.querySelector(".app");e.appendChild(this.addComponent.render()),e.appendChild(this.listComponent.render())}}class _{constructor(){this.template=new r,this.appElement=document.querySelector("#app"),this.todoModule=new f}init(){this.render()}render(){this.appElement.appendChild(this.template.element),this.todoModule.init()}}(new class{constructor(){this.component=new _}init(){this.initComponents(),this.initServiceWorker()}initComponents(){this.component.init()}initServiceWorker(){navigator.serviceWorker&&navigator.serviceWorker.register("./sw.js").then(()=>{window.console.log("sw registered successfully!")}).catch(e=>{window.console.log("Some error while registering sw: ",e)})}}).init()}]);